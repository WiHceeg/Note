---
title: 2022-05-29-《游戏编程模式》读书笔记
description: 简略记下
#date: 2018-11-22 
#updated: 2020-07-25
categories:
- 读书笔记
tags:
- 读书笔记
---

# 第二篇

## 第 2 章 命令模式

本来是 if xxx: 执行函数

命令模式是把函数写成命令类。



先写一个命令基类，自己写的命令类继承这个基类。

这个类可以接收一些参数（比如角色，这样可以将角色和命令解耦合）（比如要设置的数据，之后会在execute里用到）

这个类有 execute 成员函数、可以有 undo 成员函数。



if xxx: 返回这个类。什么时候 execute 再说。

这样有一个优势就是可以把命令序列化，比如传到远端。



如果要有 undo 函数，就要每次 execute 时把当前状态保存起来。



后面还讲了函数式风格的命令模式。

## 第 3 章 享元模式

享元模式，以共享的方式高效地支持大量的细粒度的对象。通过复用内存中已存在的对象，降低系统创建对象实例的性能消耗。

### 

例子：所有树的模型（mesh、texture）一样，而位置、高度等不同。那么把模型作为一个类，树类里面保存一个指向模型实例的指针就好了。



例子：在World 类里存三种地形的指针。

## 第 4 章 观察者模式

